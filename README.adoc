// SPDX-License-Identifier: AGPL-3.0-or-later
// SPDX-FileCopyrightText: 2025 Jonathan D.A. Jewell
= AGENTIC.scm Specification
:doctype: book
:toc: left
:toclevels: 3
:sectnums:
:source-highlighter: highlight.js
:icons: font

image:https://img.shields.io/badge/license-AGPL--3.0-blue.svg[AGPL-3.0,link="https://www.gnu.org/licenses/agpl-3.0"]
image:https://img.shields.io/badge/philosophy-Palimpsest-purple.svg[Palimpsest,link="https://github.com/hyperpolymath/palimpsest-licence"]
image:https://img.shields.io/badge/format-SCM_Family-orange.svg[SCM Family,link="https://github.com/hyperpolymath/standards"]

== Overview

AGENTIC.scm defines **operational gating policies** for AI agent actions. It controls
*whether* a permitted action may proceed *now*, separate from constitutional permission
(META) or semantic meaning (NEUROSYM).

AGENTIC implements safety controls including:

* **Entropy Budgets** - Track accumulated operational risk
* **Risk Thresholds** - Classify operations by risk level
* **Confirmation Requirements** - Explicit user intent for high-risk operations
* **Decision Recording** - Auditable trail of all gating decisions

== SCM Format Family

This specification is part of the SCM Format Family:

[cols="1,2,3"]
|===
|Format |Repository |Purpose

|META.scm
|https://github.com/hyperpolymath/meta-scm[meta-scm]
|Constitutional authority, architecture decisions

|STATE.scm
|Companion to META
|Project state tracking

|ECOSYSTEM.scm
|Companion to META
|Ecosystem positioning

|PLAYBOOK.scm
|https://github.com/hyperpolymath/playbook-scm[playbook-scm]
|Executable plans derived from META

|**AGENTIC.scm**
|https://github.com/hyperpolymath/agentic-scm[agentic-scm] (this repo)
|**Operational gating for AI agents**

|NEUROSYM.scm
|https://github.com/hyperpolymath/neurosym-scm[neurosym-scm]
|Symbolic semantics, proof obligations

|ANCHOR.scm
|https://github.com/hyperpolymath/anchor-scm[anchor-scm]
|Project recalibration/realignment
|===

All formats are satellites of https://github.com/hyperpolymath/standards[hyperpolymath/standards].

== Execution Pipeline Position

AGENTIC operates at step 2 in the execution pipeline:

[source]
----
1. META validation      ← Constitutional authority check
2. AGENTIC gating       ← THIS SPECIFICATION
3. NEUROSYM semantics   ← Proof obligations
4. PLAYBOOK derivation  ← Build executable plan
5. Execution
6. ECOSYSTEM check
7. STATE update
----

== Key Concepts

=== Explicit Present Intent

User memories, project memories, or inferred goals MUST NOT be treated as
equivalent to **explicit present user intent**. AGENTIC distinguishes between:

* **Explicit Intent** - Direct, unambiguous request in current interaction
* **Inferred Intent** - Derived from context, patterns, or history
* **No Intent** - No user indication

=== Entropy Budgets

Entropy budgets track accumulated operational risk within a session or timeframe:

[source,scheme]
----
(define entropy-budgets
  '((session
     (max-entropy . 100)
     (current . 0)
     (reset-on . "session-end"))
    (operation-costs
     (file-read . 1)
     (file-write . 5)
     (file-delete . 20)
     (external-api . 10)
     (irreversible-action . 50))))
----

=== Override Requirements

If AGENTIC blocks an action, it MAY be overridden ONLY if:

1. META defines the override class
2. The user provides explicit present intent
3. The action is retyped appropriately if proof obligations are not discharged

All overrides MUST be recorded as decision records.

== Quick Start

=== Minimal AGENTIC.scm

[source,scheme]
----
(define-module (my-project agentic)
  #:export (gating-policies))

(define gating-policies
  '((default
     (mode . "strict")
     (require-explicit-intent . #t))))
----

See `examples/` for more complete examples.

== Specification

The complete normative specification is in link:spec/AGENTIC-FORMAT-SPEC.adoc[spec/AGENTIC-FORMAT-SPEC.adoc].

== Repository Structure

[source]
----
agentic-scm/
├── spec/
│   └── AGENTIC-FORMAT-SPEC.adoc    # Normative specification
├── examples/
│   ├── minimal.scm                  # Minimal valid AGENTIC file
│   └── comprehensive.scm            # Full-featured example
├── .machine_readable/
│   ├── STATE.scm                    # Project state
│   ├── META.scm                     # Architecture decisions
│   └── ECOSYSTEM.scm                # Ecosystem position
└── README.adoc                      # This file
----

== Contributing

Contributions are welcome. Please ensure:

* All changes follow the normative specification
* Examples validate against the spec
* SPDX license headers on all files

== License

AGPL-3.0-or-later. See LICENSE.
